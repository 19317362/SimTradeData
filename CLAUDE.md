# 核心原则

**所有操作必须基于事实**: 查阅文档、API、实际代码后再行动，不可臆测。

## 工作流程

1. **需求分析**: 查阅文档理解架构 → 明确需求
2. **方案设计**: 阅读现有代码/设计 → 规划改动点
3. **实现**: 遵循最佳实践(SOLID、PEP8) → 添加测试 → 更新文档
4. **调试**: 深度分析根因 → 使用MCP工具辅助 → 记录问题

## 开发规范

- 中文注释，禁用emoji(文档除外)
- 使用 `poetry run python xxx.py`
- 禁用Mock对象(除外部系统交互)
- 遵循架构文档，无向后兼容
- 大改动前阅读设计文档并评估影响
- 复用现有功能，避免冗余
- 及时清理废弃代码

## 测试规范

- 禁止测试不存在的对象/属性
- 深度思考问题根源，最小改动修复
- 严格限制Mock使用
- 使用pytest marker区分测试类型
- 一次修复一个错误(发现>5个时)
- 单次修复≤10行代码

## 沟通规范

- 全中文交流
- ≤10行直接改，>10行先讨论
- 不清楚立即提问
- 实事求是，避免夸张
